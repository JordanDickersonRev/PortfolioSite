@inject IProjectAppService ProjectAppService
@inject IJSRuntime JS

<section id="projectsSection">
    <div class="siteLayout">
        <div class="projectsHeader">
            <h2>Projects</h2>
        </div>
        <div class="projectsDiv">
            <div class="projectsLogo">
                <i class="fas fa-desktop" />
            </div>
            <div class="siteCard">
                <QuickGrid TGridItem="ProjectDto" ItemsProvider="GetProjects" ItemKey="(x => x.Id)" Pagination="Pagination">
                    <PropertyColumn Property="@(p => p.Name)" Sortable="false" Class="projectName" />
                    <PropertyColumn Property="@(p => p.ShortDescription)" Sortable="false" Class="projectShortDescription" Title="Short Description" />
                    <TemplateColumn>
                        <SiteDropDownButton ToggleButtonText="Details" Disabled="@(context.IsFinished ? false : true)"> 
                            <DropDownElements>
                                <li class="dropdownItem" @onmousedown="() => ShowDialog(context)"><i class="fas fa-info-circle" /> Description</li>
                                <li class="dropdownItem" @onmousedown="() => OpenSourceCodeInTab(context)"><i class="fas fa-code-branch" /> Source Code</li>
                            </DropDownElements>
                        </SiteDropDownButton>
                    </TemplateColumn>
                </QuickGrid>
            </div>
        </div>
    </div>
</section>

<SiteDialog @bind-DialogIsShown="_DialogIsShown">
    <DialogHeader>
        <h5>@_DialogTitle</h5>
    </DialogHeader>
    <DialogContent>
        <div>
            <p>@_DialogDescription</p>
        </div>
    </DialogContent>
</SiteDialog>
